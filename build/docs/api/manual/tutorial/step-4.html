<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../">
  <title data-ice="title">Tutorial</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container manual-root" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <a data-ice="repoURL" href="https://github.com/akrumel/f.lux" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual" data-toc-name="overview">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1 manual-color manual-color-overview" data-section-count="&#x25A0;&#x25A0;&#x25A0;" data-link="manual/overview/overview.html"><a href="manual/overview/overview.html" data-ice="link">f.lux Overview</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/overview/overview.html"><a href="manual/overview/overview.html#what-is-f-lux" data-ice="link">What is f.lux</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/overview/overview.html"><a href="manual/overview/overview.html#high-level-feature-list" data-ice="link">High-level feature list</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/overview/overview.html"><a href="manual/overview/overview.html#single-store" data-ice="link">Single store</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/overview/overview.html"><a href="manual/overview/overview.html#co-locate-state-and-action-functions" data-ice="link">Co-locate state and action functions</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/overview/overview.html"><a href="manual/overview/overview.html#immutable-state" data-ice="link">Immutable state</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/overview/overview.html"><a href="manual/overview/overview.html#property-life-cycle" data-ice="link">Property life-cycle</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/overview/overview.html"><a href="manual/overview/overview.html#collections-remote-data-" data-ice="link">Collections (remote data)</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/overview/overview.html"><a href="manual/overview/overview.html#logging-and-time-travel-debugger" data-ice="link">Logging and time travel debugger</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/overview/overview.html"><a href="manual/overview/overview.html#-react-ui-" data-ice="link">react-ui</a></li>
<li data-ice="manualNav" class="indent-h1 manual-color manual-color-overview" data-section-count="&#x25A0;" data-link="manual/overview/concepts.html"><a href="manual/overview/concepts.html" data-ice="link">F.lux Concepts</a></li>
</ul>
  </div>
<div data-ice="manual" data-toc-name="tutorial">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/README.html"><a href="manual/tutorial/README.html#tutorial" data-ice="link">Tutorial</a></li>
<li data-ice="manualNav" class="indent-h1 manual-color manual-color-tutorial" data-section-count="&#x25A0;&#x25A0;" data-link="manual/tutorial/step-0.html"><a href="manual/tutorial/step-0.html" data-ice="link">Step 0 - Boilerplate Review</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-0.html"><a href="manual/tutorial/step-0.html#setup" data-ice="link">Setup</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-0.html"><a href="manual/tutorial/step-0.html#the-user-interface" data-ice="link">The User Interface</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-0.html"><a href="manual/tutorial/step-0.html#files" data-ice="link">Files</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-0.html"><a href="manual/tutorial/step-0.html#-main-js-" data-ice="link">main.js</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-0.html"><a href="manual/tutorial/step-0.html#-todos-react-js-" data-ice="link">Todos.react.js</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-0.html"><a href="manual/tutorial/step-0.html#-addtodo-react-js-" data-ice="link">AddTodo.react.js</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-0.html"><a href="manual/tutorial/step-0.html#next-step" data-ice="link">Next Step</a></li>
<li data-ice="manualNav" class="indent-h1 manual-color manual-color-tutorial" data-section-count="&#x25A0;&#x25A0;" data-link="manual/tutorial/step-1.html"><a href="manual/tutorial/step-1.html" data-ice="link">Step 1: F.lux Store and Basic Todo Functionality</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-1.html"><a href="manual/tutorial/step-1.html#overview" data-ice="link">Overview</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-1.html"><a href="manual/tutorial/step-1.html#goals" data-ice="link">Goals</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-1.html"><a href="manual/tutorial/step-1.html#technical-background" data-ice="link">Technical background</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-1.html"><a href="manual/tutorial/step-1.html#1-create-a-f-lux-store-with-initial-state-a-name-store-" data-ice="link">1. Create a f.lux Store with initial state</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-1.html"><a href="manual/tutorial/step-1.html#2-subscribe-to-store-changes-in-todos-a-name-changes-" data-ice="link">2. Subscribe to store changes in &lt;Todos&gt;</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-1.html"><a href="manual/tutorial/step-1.html#3-implement-addtodo-addtodo-function-a-name-addtodo-" data-ice="link">3. Implement &lt;AddTodo&gt; addTodo() function</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-1.html"><a href="manual/tutorial/step-1.html#4-implement-todoitem-to-display-edit-and-delete-todo-items-a-name-items-" data-ice="link">4. Implement &lt;TodoItem&gt; to display, edit, and delete todo items</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-1.html"><a href="manual/tutorial/step-1.html#5-iterate-all-store-todo-items-and-create-a-todoitem-for-each-one-a-name-iterate-" data-ice="link">5. Iterate all store todo items and create a &lt;TodoItem&gt; for each one</a></li>
<li data-ice="manualNav" class="indent-h1 manual-color manual-color-tutorial" data-section-count="&#x25A0;&#x25A0;&#x25A0;&#x25A0;&#x25A0;" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html" data-ice="link">Step 2: Properties</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#overview" data-ice="link">Overview</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#goals" data-ice="link">Goals</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#technical-background" data-ice="link">Technical background</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#built-in-property-classes" data-ice="link">Built-in Property classes</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#-property-features" data-ice="link">Property features</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#creating-a-shadow-" data-ice="link">Creating a Shadow</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#custom-properties" data-ice="link">Custom properties</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#configuring-the-type-static-variable" data-ice="link">Configuring the type static variable</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#accessing-the-property-from-the-shadow-" data-ice="link">Accessing the Property from the Shadow</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#1-todo-property-a-id-todo-" data-ice="link">1. Todo property</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#import-f-lux-types-and-moment-" data-ice="link">Import f.lux types and moment</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#create-the-todoproperty-class" data-ice="link">Create the TodoProperty class</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#create-the-todoshadow-class" data-ice="link">Create the TodoShadow class</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#define-todoproperty-type-" data-ice="link">Define TodoProperty.type</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#the-code" data-ice="link">The code</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#2-todo-list-property-a-id-todos-" data-ice="link">2. Todo list property</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#create-the-todolistshadow-" data-ice="link">Create the TodoListShadow</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#create-the-todolistproperty-" data-ice="link">Create the TodoListProperty</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#the-code" data-ice="link">The code</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#3-create-root-property-a-id-root-" data-ice="link">3. Create root property</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#create-todorootproperty-" data-ice="link">Create TodoRootProperty</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#create-the-store-using-todorootproperty-" data-ice="link">Create the Store using TodoRootProperty</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#4-update-ui-to-use-todolistproperty-and-todoproperty-a-id-ui-" data-ice="link">4. Update UI to use TodoListProperty and TodoProperty</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#-todos-react-js-" data-ice="link">Todos.react.js</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#-addtodo-react-js-" data-ice="link">AddTodo.react.js</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#-todoitem-react-js-" data-ice="link">TodoItem.react.js</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#5-track-todo-item-update-time-a-id-update-" data-ice="link">5. Track todo item update time</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#the-code" data-ice="link">The code</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#final-thoughts" data-ice="link">Final Thoughts</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-2.html"><a href="manual/tutorial/step-2.html#next-step" data-ice="link">Next Step</a></li>
<li data-ice="manualNav" class="indent-h1 manual-color manual-color-tutorial" data-section-count="&#x25A0;&#x25A0;&#x25A0;&#x25A0;" data-link="manual/tutorial/step-3.html"><a href="manual/tutorial/step-3.html" data-ice="link">Step 3: UI State</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-3.html"><a href="manual/tutorial/step-3.html#overview" data-ice="link">Overview</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-3.html"><a href="manual/tutorial/step-3.html#goals" data-ice="link">Goals</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-3.html"><a href="manual/tutorial/step-3.html#technical-background" data-ice="link">Technical background</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-3.html"><a href="manual/tutorial/step-3.html#property-accessor-" data-ice="link">Property accessor ($())</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-3.html"><a href="manual/tutorial/step-3.html#property-initial-state" data-ice="link">Property initial state</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-3.html"><a href="manual/tutorial/step-3.html#1-uiproperty-a-id-uiproperty-" data-ice="link">1. UiProperty </a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-3.html"><a href="manual/tutorial/step-3.html#filters-and-sorters" data-ice="link">Filters and sorters</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-3.html"><a href="manual/tutorial/step-3.html#-uiproperty-definition" data-ice="link">UiProperty definition</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-3.html"><a href="manual/tutorial/step-3.html#2-update-toodrootproperty-a-id-root-" data-ice="link">2. Update ToodRootProperty </a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-3.html"><a href="manual/tutorial/step-3.html#3-filterselector-and-sortselector-a-id-selectors-" data-ice="link">3. &lt;FilterSelector&gt; and &lt;SortSelector&gt; </a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-3.html"><a href="manual/tutorial/step-3.html#4-update-todos-a-id-todos-" data-ice="link">4. Update &lt;Todos&gt; </a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-3.html"><a href="manual/tutorial/step-3.html#render-the-toolbar" data-ice="link">Render the toolbar</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-3.html"><a href="manual/tutorial/step-3.html#update-rendertodos-" data-ice="link">Update renderTodos()</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-3.html"><a href="manual/tutorial/step-3.html#final-thoughts" data-ice="link">Final Thoughts</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-3.html"><a href="manual/tutorial/step-3.html#next-step" data-ice="link">Next Step</a></li>
<li data-ice="manualNav" class="indent-h1 manual-color manual-color-tutorial" data-section-count="&#x25A0;&#x25A0;&#x25A0;" data-link="manual/tutorial/step-4.html"><a href="manual/tutorial/step-4.html" data-ice="link">Step 4: f.lux-react</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-4.html"><a href="manual/tutorial/step-4.html#overview" data-ice="link">Overview</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-4.html"><a href="manual/tutorial/step-4.html#goals" data-ice="link">Goals</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-4.html"><a href="manual/tutorial/step-4.html#technical-background" data-ice="link">Technical background</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/tutorial/step-4.html"><a href="manual/tutorial/step-4.html#-f-lux-react-" data-ice="link">f.lux-react</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-4.html"><a href="manual/tutorial/step-4.html#1-provider-a-id-provider-" data-ice="link">1. &lt;Provider&gt; </a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-4.html"><a href="manual/tutorial/step-4.html#2-addtodo-a-id-addtodo-" data-ice="link">2. &lt;AddTodo&gt; </a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-4.html"><a href="manual/tutorial/step-4.html#3-simplify-todos-top-level-component-a-id-todos-" data-ice="link">3. Simplify &lt;Todos&gt; Top-Level Component </a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-4.html"><a href="manual/tutorial/step-4.html#4-header-a-id-header-" data-ice="link">4. &lt;Header&gt; </a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-4.html"><a href="manual/tutorial/step-4.html#5-todoslist-a-id-todolist-" data-ice="link">5. &lt;TodosList&gt; </a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-4.html"><a href="manual/tutorial/step-4.html#6-toolbar-a-id-toolbar-" data-ice="link">6. &lt;Toolbar&gt; </a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-4.html"><a href="manual/tutorial/step-4.html#final-thoughts" data-ice="link">Final Thoughts</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-4.html"><a href="manual/tutorial/step-4.html#next-step" data-ice="link">Next Step</a></li>
<li data-ice="manualNav" class="indent-h1 manual-color manual-color-tutorial" data-section-count="&#x25A0;&#x25A0;" data-link="manual/tutorial/step-5.html"><a href="manual/tutorial/step-5.html" data-ice="link">Step 5: Time Travel Debugger</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-5.html"><a href="manual/tutorial/step-5.html#overview" data-ice="link">Overview</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-5.html"><a href="manual/tutorial/step-5.html#goals" data-ice="link">Goals</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-5.html"><a href="manual/tutorial/step-5.html#1-setting-up-the-f-lux-logger-a-id-logger-" data-ice="link">1. Setting up the f.lux Logger </a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-5.html"><a href="manual/tutorial/step-5.html#2-logging-a-id-logging-" data-ice="link">2. Logging </a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-5.html"><a href="manual/tutorial/step-5.html#3-time-travel-a-id-timetravel-" data-ice="link">3. Time travel </a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-5.html"><a href="manual/tutorial/step-5.html#4-fun-with-shadow-properties-a-id-fun-" data-ice="link">4. Fun with shadow properties </a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/tutorial/step-5.html"><a href="manual/tutorial/step-5.html#final-thoughts" data-ice="link">Final Thoughts</a></li>
</ul>
  </div>
<div data-ice="manual" data-toc-name="reference">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1 manual-color manual-color-reference" data-section-count="&#x25A0;&#x25A0;&#x25A0;&#x25A0;&#x25A0;" data-link="identifiers.html"><a href="identifiers.html" data-ice="link">Reference</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="identifiers.html"><a href="identifiers.html#class" data-ice="link">Class</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="identifiers.html"><a href="identifiers.html#function" data-ice="link">Function</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="identifiers.html"><a href="identifiers.html#variable" data-ice="link">Variable</a></li>
</ul>
  </div>
<div data-ice="manual" data-toc-name="changelog">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1 manual-color manual-color-changelog" data-section-count="&#x25A0;&#x25A0;&#x25A0;&#x25A0;" data-link="manual/changelog/v1.0.0.html"><a href="manual/changelog/v1.0.0.html" data-ice="link">v1.0.0 Change Log</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/changelog/v1.0.0.html"><a href="manual/changelog/v1.0.0.html#goals" data-ice="link">Goals</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/changelog/v1.0.0.html"><a href="manual/changelog/v1.0.0.html#documentation" data-ice="link">Documentation</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/changelog/v1.0.0.html"><a href="manual/changelog/v1.0.0.html#changes" data-ice="link">Changes</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/v1.0.0.html"><a href="manual/changelog/v1.0.0.html#libraries" data-ice="link">Libraries</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/v1.0.0.html"><a href="manual/changelog/v1.0.0.html#arrayproperty" data-ice="link">ArrayProperty</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/v1.0.0.html"><a href="manual/changelog/v1.0.0.html#indexedproperty" data-ice="link">IndexedProperty</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/v1.0.0.html"><a href="manual/changelog/v1.0.0.html#indexedshadowimpl" data-ice="link">IndexedShadowImpl</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/v1.0.0.html"><a href="manual/changelog/v1.0.0.html#mapproperty" data-ice="link">MapProperty</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/v1.0.0.html"><a href="manual/changelog/v1.0.0.html#objectproperty" data-ice="link">ObjectProperty</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/v1.0.0.html"><a href="manual/changelog/v1.0.0.html#property" data-ice="link">Property</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/v1.0.0.html"><a href="manual/changelog/v1.0.0.html#propertyfactoryshader" data-ice="link">PropertyFactoryShader</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/v1.0.0.html"><a href="manual/changelog/v1.0.0.html#shader" data-ice="link">Shader</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/v1.0.0.html"><a href="manual/changelog/v1.0.0.html#statetype" data-ice="link">StateType</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/v1.0.0.html"><a href="manual/changelog/v1.0.0.html#shadowimpl" data-ice="link">ShadowImpl</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/v1.0.0.html"><a href="manual/changelog/v1.0.0.html#createpropertyclass-" data-ice="link">createPropertyClass()</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/changelog/v1.0.0.html"><a href="manual/changelog/v1.0.0.html#examples" data-ice="link">Examples</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown">
  <div class="manual-breadcrumb-list">
    <a href="./manual/./index.html">Manual</a>
    <span>&#xBB;</span>
    <span data-ice="title">Tutorial</span>
  </div>
  <div data-ice="content"><h1 id="step-4-f-lux-react-">Step 4: <code>f.lux-react</code></h1>
<h2 id="overview">Overview</h2>
<p>This step will will demonstrate using the <code>f.lux-react</code> module streamline access to the f.lux <code>Store</code> and its shadow state properties.</p>
<h2 id="goals">Goals</h2>
<ol>
<li><a href="#user-content-provider"><code>&lt;Provider&gt;</code></a></li>
<li><a href="#user-content-addtodo"><code>&lt;AddTodo&gt;</code></a></li>
<li><a href="#user-content-todos">Simplify <code>&lt;Todos&gt;</code> Top-Level Component</a></li>
<li><a href="#user-content-header"><code>&lt;Header&gt;</code></a></li>
<li><a href="#user-content-todolist"><code>&lt;TodosList&gt;</code></a></li>
<li><a href="#user-content-toolbar"><code>&lt;Toolbar&gt;</code></a></li>
</ol>
<p>The <a href="https://github.com/akrumel/f.lux/tree/master/examples/tutorial/step-4"><code>examples/tutorial/step-4</code></a> directory contains the completed code for this step.</p>
<h2 id="technical-background">Technical background</h2>
<h3 id="-f-lux-react-"><code>f.lux-react</code></h3>
<p>The <code>f.lux-react</code> module was inspired by the <code>redux-react</code> module for providing React bindings. Using <code>f.lux-react</code> removes the need for you to hand code:</p>
<ol>
<li>Registering for <code>Store</code> change notificiations</li>
<li>Passing shadow properties from the top-level component through the entire hierarchy</li>
</ol>
<p><code>f.lux-react</code> contains components and functions to:</p>
<ul>
<li>Install the <code>Store</code> on the <a href="https://facebook.github.io/react/docs/context.html">React context</a></li>
<li>Create container components for extracting and passing <code>Store</code> shadow state values as component properties</li>
<li>Form component support for easily interfacing data entry components with f.lux properties</li>
</ul>
<p>This tutorial step will utilize the following <code>f.lux-module</code> exports:</p>
<ul>
<li><p><code>&lt;Provider&gt;</code></p>
<p>  An application top-level component that places the <code>Store</code> on the React context. <code>&lt;Provder&gt;</code> expects a single property:</p>
<ul>
<li><code>store</code> - the application f.lux <code>Store</code></li>
</ul>
</li>
</ul>
<ul>
<li><p><code>storeContainer()</code></p>
<p>  Connects a React component to the f.lux <code>Store</code>. This method takes a number of parameters used to configure how the container component&apos;s sets up properties for your component. It actually returns a function that takes your component and returns the container component to use in your application. </p>
<p>  <code>storeContainer()</code> is a complex function but we are going to use it in a simple manner and just pass it a single parameter:</p>
<ul>
<li><p><code>mapShadowToProps</code> </p>
<p>  Extracts values from the f.lux store&apos;s shadow state and returns them as a javascript object. The object will be merged with the component&apos;s props and set on your component. <code>mapShadowToProps()</code> is a function of the form:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">  function callback(shadow, props, store) : stateProps</code>
</code></pre>
<p>Here is an example used in this tutorial step:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">function mapShadowToProps(shadow) {
  return {
      todos: shadow.todos,
  }
}

export default storeContainer(mapShadowToProps)(AddTodo);</code>
</code></pre>
<p>Explanation:</p>
</li>
<li><p><code>function mapShadowToProps(shadow) {...}
  The</code>mapShadowToProps()<code>function is called when a store change notification is received to get the latest shadow state based props. This implementation returns an object with a single</code>todos` property.</p>
</li>
<li><p><code>storeContainer(mapShadowToProps)</code>
  Generates a factory function that takes your React component as its sole parameter to return the f.lux connected component</p>
</li>
<li><p><code>(AddTodo)</code>
  Uses the function returned by <code>storeContainer()</code> to create the f.lux connected component</p>
</li>
</ul>
</li>
</ul>
<pre><code><code class="source-code prettyprint">This will be shortened in the application to:

```js
export default storeContainer( shadow =&gt; ({ todos: shadow.todos }) )(AddTodo);
```</code>
</code></pre><h2 id="1-provider-a-id-provider-">1. <code>&lt;Provider&gt;</code> <a id="provider"></a></h2>
<p>Using the <code>&lt;Provider&gt;</code> component to place your <code>Store</code> instance on the React context is straight-forward. Here is the pertitent code in <code>main.js</code>:</p>
<pre><code class="lang-jsx"><code class="source-code prettyprint">import { Provider } from &quot;f.lux-react&quot;;

ReactDOM.render(
    &lt;Provider store={ store }&gt;
        &lt;Todos/&gt;
    &lt;/Provider&gt;,
    document.getElementById(&apos;react-ui&apos;)
);</code>
</code></pre>
<p>Essentially, we just wrapped the application&apos;s top-level component, <code>&lt;Todos&gt;</code>, in a <code>&lt;Provider&gt;</code>.</p>
<h2 id="2-addtodo-a-id-addtodo-">2. <code>&lt;AddTodo&gt;</code> <a id="addtodo"></a></h2>
<p>The <code>&lt;AddTodo&gt;</code> component expects a <code>todos</code> prop that contains a reference to the <code>todos</code> shadow state property. Previously, this was passed by the <code>&lt;Todos&gt;</code> component. We can use <code>storeContainer()</code> instead:</p>
<pre><code class="lang-jsx"><code class="source-code prettyprint">class AddTodo extends Component { ... }

export default storeContainer( shadow =&gt; ({ todos: shadow.todos }) )(AddTodo);</code>
</code></pre>
<p>No <code>&lt;AddTodo&gt;</code> changes are required since the f.lux connected component is exported and used in <code>&lt;Todos&gt;</code> as shown in the next section.</p>
<h2 id="3-simplify-todos-top-level-component-a-id-todos-">3. Simplify <code>&lt;Todos&gt;</code> Top-Level Component <a id="todos"></a></h2>
<p>Refactoring the other components allows for <code>&lt;Todos&gt;</code> to be greatly simplified. Previous versions contains the code to register/unregister from the f.lux store. In fact, we are also going to extract the header, item list, and toolbar into separate components yeilding a simple functional component: </p>
<pre><code class="lang-jsx"><code class="source-code prettyprint">import React from &quot;react&quot;;

import AddTodo from &quot;./AddTodo.react&quot;;
import Header from &quot;./Header.react&quot;;
import TodoList from &quot;./TodoList.react&quot;;
import Toolbar from &quot;./Toolbar.react&quot;;


export default function Todos(props, context) {
    return &lt;div className=&quot;todoContainer&quot;&gt;
            &lt;Header /&gt;

            &lt;AddTodo /&gt;
            &lt;TodoList /&gt;

            &lt;Toolbar /&gt;
        &lt;/div&gt;
}</code>
</code></pre>
<p>Notice how the top-level <code>&lt;Todos&gt;</code> component no longer references the <code>store</code> prop. The following sections will discuss the new components: <code>&lt;Header&gt;</code>, <code>&lt;TodoList&gt;</code>, and <code>&lt;Toolbar&gt;</code>.</p>
<h2 id="4-header-a-id-header-">4. <code>&lt;Header&gt;</code> <a id="header"></a></h2>
<p>The application header is an <code>&lt;h1&gt;</code> tag that shows the number of incomplete items. The code is extracted from the <code>&lt;Todos&gt; render()</code> function and placed in the <code>&lt;Header&gt;</code> functional component:</p>
<pre><code class="lang-jsx"><code class="source-code prettyprint">import pluralize from &quot;pluralize&quot;;
import React from &quot;react&quot;;

import { storeContainer } from &quot;f.lux-react&quot;;


function Header(props, context) {
    const { todos } = props;
    const remainingText = `${ todos.incompleteSize } ${ pluralize(&quot;item&quot;, todos.incompleteSize ) } remaining`;

    return &lt;h1&gt;
            F.lux Todos &lt;small&gt;{ remainingText }&lt;/small&gt;
        &lt;/h1&gt;
}


export default storeContainer( shadow =&gt; ({ todos: shadow.todos }) )(Header);</code>
</code></pre>
<h2 id="5-todoslist-a-id-todolist-">5. <code>&lt;TodosList&gt;</code> <a id="todolist"></a></h2>
<p>The previous steps rendered the todo items from the <code>&lt;Todo&gt; renderTodos()</code> method. This becomes another simple functional component:</p>
<pre><code class="lang-jsx"><code class="source-code prettyprint">import React from &quot;react&quot;;

import { storeContainer } from &quot;f.lux-react&quot;;

import TodoItem from &quot;./TodoItem.react&quot;;


function TodoList(props, context) {
    const { todos, ui } = props;
    const visibleTodos = ui.visibleTodos();

    if (todos.length === 0) {
        return &lt;p className=&quot;noItems&quot;&gt;What do you want to do today?&lt;/p&gt;
    } else if (visibleTodos.length === 0) {
        return &lt;p className=&quot;noItems&quot;&gt;No items are { ui.filter }&lt;/p&gt;
    }

    return &lt;div&gt;
        {
            visibleTodos.map( t =&gt; &lt;TodoItem key={ t.$().pid() } todo={ t } todos={ todos } /&gt; )
        }
        &lt;/div&gt;
}


export default storeContainer( shadow =&gt; shadow )(TodoList);</code>
</code></pre>
<p>The one wrinkle here is the <code>mapStateToProps()</code> function:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">shadow =&gt; shadow</code>
</code></pre>
<p><code>storeContainer()</code> will merge the object with the explicitly set component props with the result being the <code>shadow.todos</code> and <code>shadow.ui</code> properties will be passed as <code>todos</code> and <code>ui</code> props. You would not usually want all of the shadow root state child properties passed as props but things are pretty simple here. The component then obtains references to <code>todos</code> and <code>ui</code>:</p>
<pre><code class="lang-js"><code class="source-code prettyprint">const { todos, ui } = props;</code>
</code></pre>
<h2 id="6-toolbar-a-id-toolbar-">6. <code>&lt;Toolbar&gt;</code> <a id="toolbar"></a></h2>
<p>You do not wrap every component using <code>storeContainer()</code> because that introduces unnecessary overhead. The goal is to strike a balance between manually passing the store and/or shadow state through the entire hieararchy and wrapping every component. Toolbar demonstrats getting the <code>ui</code> shadow state property using <code>storeContainer()</code> and then passing it to the <code>&lt;FilterSelector&gt;</code> and <code>&lt;SortSelector&gt;</code>.</p>
<pre><code class="lang-jsx"><code class="source-code prettyprint">import React from &quot;react&quot;;

import { storeContainer } from &quot;f.lux-react&quot;;

import FilterSelector from &quot;./FilterSelector.react&quot;;
import SortSelector from &quot;./SortSelector.react&quot;;


function Toolbar(props, context) {
    const { ui } = props;

    return &lt;div className=&quot;tools&quot;&gt;
            &lt;FilterSelector ui={ ui } /&gt;
            &lt;SortSelector ui={ ui } /&gt;
        &lt;/div&gt;
}


export default storeContainer( shadow =&gt; ({ ui: shadow.ui }) )(Toolbar);</code>
</code></pre>
<p>No changes are required for <code>&lt;FilterSelector&gt;</code> and <code>&lt;SortSelector&gt;</code> to continue functioning as in the <a href="./manual/step-3.md">previous step</a>.</p>
<h2 id="final-thoughts">Final Thoughts</h2>
<p>This tutorial step covered using the <code>f.lux-react</code> module to simplify the application&apos;s React components.</p>
<p>Important concepts include:</p>
<ul>
<li><code>&lt;Provider&gt;</code> - application top-level React component puts the <code>Store</code> on the context</li>
<li><code>storeContainer(mapShadowToProps)</code> - creates a higher order component to provide desired shadow state values as component properties.</li>
</ul>
<h2 id="next-step">Next Step</h2>
<p><a href="./manual/step-5.md">Step 5: Time travel debugger</a></p>
</div>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.5.2)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
